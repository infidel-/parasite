test playthrough of the clue gathering

make all formulas return standard _RollResult { result: Float, hint: String }
make learn skills amount use formula and display hint in extended mode. Debug mode auto enables extended mode.
  rework attack hints through extended mode
probing event NPC - you have not been able to gain any clues ???
after probing all NPCs and getting all readables player can get stuck
do not allow using computers when there is nothing to gain from it
?bug - can go to spaceship without goal - breaks goal completion
  auto-complete previous goals

show [alive] in timeline for npcs
log message on 3rd brain probe for event npcs showing that this npc does not know anything more
log message on ai death from combat damage
civs call police in habitat, it can't spawn
alertness on habitat should raise chance of blackops finding it
for 0.2 release: add logging to bat/sh files and check it out
alt-z: hide hud
mark npc as dead when it expires as a host
roads on region map leading to facilities
  faster travel on roads when in car?
  disallow travel outside of city bounds by foot (no sewers)?
  disguise skill - allows hiding parasite without using improv
  disguise allows using public transport and cars
    public transport and car rental costs money (gained from wallets)
  how to gain disguise skill?
  needs disguise kit?

hosts should stop dying at some point:
- make goal chain for building "host convertor" in microhabitat
- Assimilation process: when the host convertor is active, player can convert hosts and they stop losing energy passively
- Assimilated hosts can refill their energy either using Biomineral or another structure (need a good name for biostructures)

game restart
citygen - smooth out building tiles when they are not wide enough
what happens on mission failure
scenario - alien weapons cache, has a chance of spawning (left by yourself)
mission - infiltration
mission - research
goal - save alien
what if player raises alertness in ship location? i should handle that somehow
mission - abduction - chance of target being a soldier in a base or vip in facility
mission completed, what if spaceship is crashed
add spaceship object to global object map or make easier getObject(id) function or
?inventory actions - r1, l1, d1

expand hidden events - opening certain clues will lead to hidden events, that these clues hint on. For ex., ufologists clue:
'Independent experts and conspiracy theorists may have some knowledge about the events.'
should open up a hidden event in some way.

==
CONSOLE CHEATSHEET:
;le12 - learn about aliens
;le8 - learn location of spaceship

;le11 - learn about aliens (other branch)
;le7 - learn location of spaceship (other branch)

;ge8 - go to spaceship location

;ga10 10 - go to area at 10,10
;gg24 7 - don't change mode, go to x=24, y=7 (area or region)

;s1 - player stage 1 (human civilian host, tutorial done)
;s2 - player stage 2 (stage 1 + microhabitat)

;ie - info: events list

MASTERPLAN
============
area alertness - block normal area travel on high alertness
world generation
human biology knowledge
canine biology knowledge
city and world travel

LATER
=====
?? more knowledges
make each AI type more unique
==
- "Biomineralization" goal chain (after "habitat" goal chain):
- GOAL: get "Biomineralization" improvement
- GOAL: grow "Biomineral base" organ. When this organ finishes, special action "Grow a biomineral" appears.
- GOAL: grow biomineral. can only be grown in habitat. current host converts into a biomineral on that cell that supplies additional energy to cells around it. biomineral has a lifetime that depends on host stats.
- while near the biomineral growing organs and evolution is faster

make microhabitat knowledge percentage-based. when building new stuff in habitats, the knowledge increases, opening up new possibilities.
==
police radio gives access to radio messages and opens up way to:

radio transceiver improvement:
lv1 - listen to police/security radio
lv2 - listen to
lv3 - listen to cellphone comms

em noise improvement:
lv1 - civilians cannot call for help in small radius
lv2 - radius+
lv3 - radius++

1) find police radio/security radio
2) evolve radio receiver
3) grow receiver
==
since use computer is max 30% (rarer 50%), search is very slow
  "use computer" goal completion should open next optional goal:
    find hacker and probe his brain (an alternative is to grind computer use)
    new area type - university
    add NPC age
    new NPC parameter - job
    university has professors and students (job types)
    search for a person with high skill X interface
    sub-menus:
      "u" opens "use item" menu
      "computer" item opens sub-menu
        "search for timeline info",
        "search for a person with high Computer Use skill"
    pressing "." will repeat previous "use" command
==
unlocked by finding a drug dose on a human (or by selecting path)
  improv: low-level dopamine control - the control is raised every turn to max
    active or passive?
==
SCENARIO: CULT
sanity stat for the followers (they can get totally mad in the process)
high-level control path improv (research dopamine) that puts a euphoria-inducing biodrone on the host
  humans stay as loyal but free agents that can do the tasks set by the player
build a cult of followers
==
AREA INTEREST, CONSPIRACY
brain probing some event NPCs (marked with flags) should reveal the existence of the conspiracy (player antags)
  this is a special event that opens up the area interest indicator
  it might show when the habitat was compromised?
  it might open up new research venues?
area interest is unused
area interest should bring something special
killing conspiracy agents should increase both area interest and conspiracy interest
leaving conspiracy agent hosts should increase interest eventually
==

search in timeline
?? Area -> move some code to game/AreaGame, some to entities/Area
tooltips in area and region mode (type, habitat, clues, events, alertness, etc)
organ actions -> OrganInfo.actionXXX
inventory actions -> ItemInfo.actionXXX
move Const.PLAYER_ACTION into proper classes?
ecm jammer improvement
host perks - for ex, fat people have more energy overall, so they are more desirable
some evolution can only happen if player has access to prerequisites, for example, stands on top of some object
more believable city generation - areas, buildings, sidewalk, roadway, car traffic, traffic lights
cops arriving in cars
fast travel in cars in region mode - entering the car will turn it on
global suspicion and what comes with its growth (no global suspicion?)
region mode: do not despawn area until player moves?
swat + police calling backup brings swat when alertness stage is >= 1
swat units have gas masks and armor
armor - vest + helmet
stunner
walkable city sewers (should i?)
electric discharge improv + battery organ + stun attack
parasite smell + dogs + reducing smell intensivity imp
organ damage - organ must heal itself before it becomes active again
limit region access (until some learning flag triggers, initial progression)
- ?? make tilemap screen-sized and repaint with each movement ??
- i should probably make some habitat imps that will notify player about detection.
use debug player stages as basis for a save system (allow saves only on some critical game events)


scene. getSpriteByLayer(layer) - draw lines on this one
write about getPixels/setPixels bug
